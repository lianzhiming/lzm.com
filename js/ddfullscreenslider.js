var ddfullscreenslider=function(e){function t(){if(!window.getComputedStyle)return!1;var t,n=e('<div style="position:absolute" />').appendTo(document.body);n.css("transform","translate3d(1px,1px,1px)"),t=n.css("transform");var i=n.get(0).style.cssText.match(/(\w|\-)*transform/i);return o=i?i[0]:"transform",n.remove(),void 0!==t&&t.length>0&&"none"!==t}function n(n){function r(e,t){if(!S&&h.addHash){var n=w.find("li").eq(T).find("a:eq(0)").attr("href");history.replaceState?history.replaceState(null,null,n):window.location.hash=n}h.onslide(e,t)}function d(e,t){return"down"==t?f?Math.max(-parseInt(q[1]),e):Math.max(-q[1],e):Math.min(q[0],e)}function u(e){var t,n=e.closest("."+D);return 1==n.length&&(t=n.get(0),t.offsetHeight<t.scrollHeight)}function c(e){var t=T;if(e<0)var t=Math.min(g-1,T+1);else if(e>0)var t=Math.max(0,T-1);t!=T&&y.slideTo(t)}var l,f=t(),h=e.extend({},i,n),m=e("#"+h.sliderid),v=m.find("div.slidewrapper").css({transitionDuration:h.transitionDuration}),p=e(),g=0,w=e(),y=this,T=0,x=[],k={start:"",move:"",end:""},b=!1,M=0,q=[,],D="scrollable",H=!1,S=!0;f||(h.transitionDuration=1e3*parseFloat(h.transitionDuration)),m.on("mousewheel",function(e){clearTimeout(l);var t=e.deltaY;return l=setTimeout(function(){c(t)},100),!1}),e(document).on("keyup",function(e){var t=T;if(e.keyCode==h.keycodeNavigation[0])var t=Math.min(g-1,T+1);else if(e.keyCode==h.keycodeNavigation[1])var t=Math.max(0,T-1);t!=T&&y.slideTo(t)}),k.start="touchstart"+(h.swipeconfig.mousedrag?" mousedown":""),k.move="touchmove.dragmove"+h.sliderid+(h.swipeconfig.mousedrag?" mousemove.dragmove"+h.sliderid:""),k.end="touchend"+(h.swipeconfig.mousedrag?" mouseup":""),h.swipeconfig.mousedrag&&v.bind("click",function(e){0!=v.data("dy")&&e.preventDefault()}),v.bind(k.start,function(t){H=!1;var t=t.type.indexOf("touch")!=-1?t.originalEvent.changedTouches[0]:t;if(u(e(t.target)))return void(H=!0);b=!0;var n=t.pageY;M=0,f&&v.css({transition:"none"});var i=-a.outerHeight()*T;return v.data({dy:M}),e(document).bind(k.move,function(e){if(!H){var e="-1"!=e.type.indexOf("touch")?e.originalEvent.changedTouches[0]:e;M=e.pageY-n;var t=i+M;return t=d(t,M<0?"down":"up"),f?v.css("transform","translate3d(0, "+t+"px, 0)"):v.css("top",t),v.data({dy:M}),!1}}),"mousedown"!=t.type&&void 0}),e(document).bind(k.end,function(t){if(e(document).unbind(k.move),b&&!H){if(0!=M){if(M<0&&M<-h.swipeconfig.peekamount)var n=Math.min(g-1,T+1);else if(M>0&&M>h.swipeconfig.peekamount)var n=Math.max(0,T-1);else n=T;if(y.slideTo(n),"mouseup"==t.type)return!1}b=!1}}),v.on("transitionend webkitTransitionEnd",function(e){/transform/i.test(e.originalEvent.propertyName)&&r(p.eq(T),T)}),this.reloadSlides=function(){w.remove(),x=[],w=e('<ul class="fssnav" />'),p=e("article.slide").each(function(t){var n=e(this),i=n.attr("id")||"slide"+(t+1);i="#"+i,x.push([i,t]);var o=n.data("title")||i,a=e('<li><a href="'+i+'" title="'+o+'">'+(t+1)+"</a></li>").appendTo(w);a.find("a:eq(0)");a.on("click touchstart",function(e){y.slideTo(t)})}),w.on("click touchstart touchend",function(e){var e="-1"!=e.type.indexOf("touch")?e.originalEvent.changedTouches[0]:e;return!1}).appendTo(m),g=p.length,q=[0,a.outerHeight()*(g-1)]},this.openSlider=function(){S=!1,H=!1,h.sliderstate="open",s.addClass("fssopen"),m.css("visibility","visible")},this.closeSlider=function(){h.sliderstate="close",H=!0,s.removeClass("fssopen"),m.css({visibility:"hidden"})},this.slideTo=function(e,t){var n=a.outerHeight()*e;w.find("li").eq(T).removeClass("selected"),w.find("li").eq(e).addClass("selected"),T=e,f?(v.css({transition:t?"none":o+" "+h.transitionDuration}),v.css("transform","translate3d(0, -"+n+"px, 0)"),t&&r(p.eq(T),T)):v.stop().animate({top:-n},t?0:h.transitionDuration,function(){r(p.eq(T),T)})},this.reloadSlides(),T=function(e){for(var t=0;t<x.length;t++)if(x[t][0]==e)return t;return 0}(window.location.hash),this.slideTo(T,!0),"open"==h.sliderstate&&this.openSlider(),e(window).on("resize",function(){y.slideTo(T,!0),q=[0,a.outerHeight()*(g-1)]})}document.createElement("section"),document.createElement("article");var i={addHash:!0,sliderstate:"open",keycodeNavigation:[40,38],transitionDuration:"0.5s",swipeconfig:{peekamount:100,mousedrag:!0},onslide:function(e,t){}},o="",a=e(window),s=e("html");return n}(jQuery);