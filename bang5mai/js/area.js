function showLocation(o,c,t){var l=new Location,n=["省份","地级市","市、县、区"];$.each(n,function(o,c){n[o]='<option value="">'+c+"</option>"}),$("#loc_province").append(n[0]),$("#loc_city").append(n[1]),$("#loc_town").append(n[2]),$("#loc_province,#loc_city,#loc_town").select2(),$("#loc_province").change(function(){$("#loc_city").empty(),$("#loc_city").append(n[1]),l.fillOption("loc_city","0,"+$("#loc_province").val()),$("#loc_city").change()}),$("#loc_city").change(function(){$("#loc_town").empty(),$("#loc_town").append(n[2]),l.fillOption("loc_town","0,"+$("#loc_province").val()+","+$("#loc_city").val())}),$("#loc_town").change(function(){$("input[name=location_id]").val($(this).val())}),o?(l.fillOption("loc_province","0",o),c&&(l.fillOption("loc_city","0,"+o,c),t&&l.fillOption("loc_town","0,"+o+","+c,t))):l.fillOption("loc_province","0")}$(function(){showLocation(),$("#btnval").click(function(){alert($("#loc_province").val()+" - "+$("#loc_city").val()+" - "+$("#loc_town").val())}),$("#btntext").click(function(){alert($("#loc_province").select2("data").text+" - "+$("#loc_city").select2("data").text+" - "+$("#loc_town").select2("data").text)})});